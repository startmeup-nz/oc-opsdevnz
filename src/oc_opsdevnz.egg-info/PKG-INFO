Metadata-Version: 2.4
Name: oc-opsdevnz
Version: 0.1.0
Summary: OpenCollective API helper (OpsDev.nz), staging-first with 1Password token resolution
Author: John Billings
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: op-opsdevnz>=0.1.0
Dynamic: license-file

# oc_opsdevnz
OpenCollective client for OpsDev.NZ (staging-first). Resolves tokens from 1Password via `op-opsdevnz`, with optional `OC_TOKEN` override. Defaults to the staging API unless you explicitly select prod.

## Install
```bash
pip install oc-opsdevnz op-opsdevnz
```

## Quick start (staging)
```bash
export OC_SECRET_REF="op://startmeup.nz/api-staging.opencollective.com/credential"  # or set OC_TOKEN
python -m oc_opsdevnz.examples.whoami
```
This uses the staging API by default. Override with `OC_API_URL` if needed, or:
```python
from oc_opsdevnz import OpenCollectiveClient
client = OpenCollectiveClient.for_staging()
# or explicitly prod (only if you mean it):
prod_client = OpenCollectiveClient.for_prod()
```

## CLI example (whoami)
See `examples/whoami.py` for a minimal GraphQL query; adjust the slug to your collective/host.

## Notes
- Tokens come from 1Password (`OC_SECRET_REF`) via `op-opsdevnz`; `OC_TOKEN` is an optional override.
- Prod is opt-in: use `OpenCollectiveClient.for_prod()` or set `OC_API_URL` to the prod GraphQL endpoint.
